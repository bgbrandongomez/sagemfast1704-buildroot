<html>
<head>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel=stylesheet href='stylemain.css' type='text/css'>
<link rel=stylesheet href='colors.css' type='text/css'>

<script language="javascript" src="util.js"></script>
<script language="javascript">
<!-- hide

var pmCPUSpeed   = '<%ejGet(pmCPUSpeed)%>';
var pmCPUr4Kwait = '<%ejGet(pmCPUr4kWaitEn)%>';
var pmDRAMAutoPD = '<%ejGet(pmDRAMAutoPDEn)%>';
var pmVCT        = '<%ejGet(pmVCTEn)%>';
var pmWifi       = '<%ejGet(pmWifiEn)%>';
var pmUSBHosts   = '<%ejGet(pmUSBHostEn)%>';
var pmUSBDev     = '<%ejGet(pmUSBDevEn)%>';
var pmDSL        = '<%ejGet(pmDSLEn)%>';
var pm6358MAC0   = '<%ejGet(pm6358MAC0En)%>';
var pm6358MAC1   = '<%ejGet(pm6358MAC1En)%>';
var pm6358EPHY   = '<%ejGet(pm6358EPHYEn)%>';
var pm5325ePHY0  = '<%ejGet(pm5325ePHY0En)%>';
var pm5325ePHY1  = '<%ejGet(pm5325ePHY1En)%>';
var pm5325ePHY2  = '<%ejGet(pm5325ePHY2En)%>';
var pm5325ePHY3  = '<%ejGet(pm5325ePHY3En)%>';
var pm5325ePHY45 = '<%ejGet(pm5325ePHY45En)%>';
var pm5325eLeds  = '<%ejGet(pmSwitchLEDEn)%>';

function frmLoad() {
   with ( document.forms[0] ) {
      var pwrmngt = '';
      pwrmngt = '<%ejGetOther(pwrmngt)%>';
   }
}

function btnApply() {
   var loc = 'pwrmngt.cmd?';

   with ( document.forms[0] ) {

      if ( radPmCPUSpeed[0].checked == true ) {
         loc += 'PmCPUSpeed=8';
      }
      else if ( radPmCPUSpeed[1].checked == true ) {
         loc += 'PmCPUSpeed=4';
      }
      else if ( radPmCPUSpeed[2].checked == true ) {
         loc += 'PmCPUSpeed=2';
      }
      else if ( radPmCPUSpeed[3].checked == true ) {
         loc += 'PmCPUSpeed=1';
      }
      else {
         loc += 'PmCPUSpeed=1';
      }

      if ( chkPmCPUr4Kwait.checked == true )
        loc += '&PmCPUr4kWaitEn=1';
      else
        loc += '&PmCPUr4kWaitEn=0';

      if ( chkPmDRAMAutoPD.checked == true )
        loc += '&PmDRAMAutoPDEn=1';
      else
        loc += '&PmDRAMAutoPDEn=0';


      if ( chkPmVCT.checked == true )
        loc += '&PmVCTEn=1';
      else
        loc += '&PmVCTEn=0';

      if ( chkPmWifiEn.checked == true )
        loc += '&PmWifiEn=1';
      else
        loc += '&PmWifiEn=0';

      if ( chkPm6358MAC0En.checked == true )
        loc += '&Pm6358MAC0En=1';
      else
        loc += '&Pm6358MAC0En=0';

      if ( chkPm6358MAC1En.checked == true )
        loc += '&Pm6358MAC1En=1';
      else
        loc += '&Pm6358MAC1En=0';

      if ( chkPm6358EPHYEn.checked == true )
        loc += '&Pm6358EPHYEn=1';
      else
        loc += '&Pm6358EPHYEn=0';

      if ( chkPm5325ePHY0En.checked == true )
        loc += '&Pm5325ePHY0En=1';
      else
        loc += '&Pm5325ePHY0En=0';

      if ( chkPm5325ePHY1En.checked == true )
        loc += '&Pm5325ePHY1En=1';
      else
        loc += '&Pm5325ePHY1En=0';

      if ( chkPm5325ePHY2En.checked == true )
        loc += '&Pm5325ePHY2En=1';
      else
        loc += '&Pm5325ePHY2En=0';

      if ( chkPm5325ePHY3En.checked == true )
        loc += '&Pm5325ePHY3En=1';
      else
        loc += '&Pm5325ePHY3En=0';

      if ( chkPm5325ePHY45En.checked == true )
        loc += '&Pm5325ePHY45En=1';
      else
        loc += '&Pm5325ePHY45En=0';

      if ( chkPm5325eLedsEn.checked == true )
        loc += '&PmSwitchLEDEn=1';
      else
        loc += '&PmSwitchLEDEn=0';


      if ( chkPmUSBHostsEn.checked == true )
        loc += '&PmUSBHostEn=1';
      else
        loc += '&PmUSBHostEn=0';

      if ( chkPmUSBDevEn.checked == true )
        loc += '&PmUSBDevEn=1';
      else
        loc += '&PmUSBDevEn=0';

      if ( chkPmDSLEn.checked == true )
        loc += '&PmDSLEn=1';
      else
        loc += '&PmDSLEn=0';

   }

   var code = 'location="' + loc + '"';
   eval(code);
}

// done hiding -->
</script>
</head>

<body onLoad='frmLoad()'>

      <blockquote>
         <form>

            <b>BCM6358 Power Management</b><br>
            <br>
            This page allows control of Hardware modules to evaluate power consumption. Use the control buttons to select the desired option, click Apply and check the status response. 
            <br>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6358 MIPS CPU Clock</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='radio' name='radPmCPUSpeed' value=8>&nbsp;&nbsp;1/8 of full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td><input type='radio' name='radPmCPUSpeed' value=4>&nbsp;&nbsp;1/4 of Full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td><input type='radio' name='radPmCPUSpeed' value=2>&nbsp;&nbsp;1/2 of full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td><input type='radio' name='radPmCPUSpeed' value=111>&nbsp;&nbsp;Full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                   {   with ( document.forms[0] ) {
                         pmCPUSpeed   = '<%ejGet(pmCPUSpeed)%>';
                         if(pmCPUSpeed == "8") {
                           radPmCPUSpeed[0].checked = true;
                           document.writeln("<font color='red'> 1/8 of full speed</font>");
                         }
                         else if(pmCPUSpeed == "4") {
                           radPmCPUSpeed[1].checked = true;
                           document.writeln("<font color='red'> 1/4 of full speed</font>");
                         }
                         else if(pmCPUSpeed == "2") {
                           radPmCPUSpeed[2].checked = true;
                           document.writeln("<font color='red'> 1/2 of full speed</font>");
                         }
                         else if(pmCPUSpeed == "1") {
                           radPmCPUSpeed[3].checked = true;
                           document.writeln("<font color='green'> full speed</font>");
                         }
                         else {
                           document.writeln("<font color='red'>"+ pmCPUSpeed +" </font>");
                         }
                       }
                   } 
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6358 Linux TP uses r4K Wait instruction when Idle</b>  (IMPORTANT : SAVES POWER WHEN ENABLED)
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmCPUr4Kwait'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmCPUr4Kwait = '<%ejGet(pmCPUr4kWaitEn)%>';
                         if(pmCPUr4Kwait == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmCPUr4Kwait.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmCPUr4Kwait.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>DRAM Auto Power Down Mode</b> (IMPORTANT : SAVES POWER WHEN ENABLED)
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmDRAMAutoPD'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmDRAMAutoPD = '<%ejGet(pmDRAMAutoPDEn)%>';
                         if(pmDRAMAutoPD == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmDRAMAutoPD.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmDRAMAutoPD.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6358 MIPS Voice TP and voice devices (slic/slac)</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmVCT'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmVCT        = '<%ejGet(pmVCTEn)%>';
                         if(pmVCT == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmVCT.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmVCT.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>802.11 Wireless</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmWifiEn' >&nbsp;&nbsp;Enable Wireless&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td> 
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmWifi       = '<%ejGet(pmWifiEn)%>';
                         if(pmWifi == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmWifiEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmWifiEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6358 Integrated Ethernet</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td colspan=2><input type='checkbox' name='chkPm6358MAC0En' >&nbsp;&nbsp;Enable MAC0</td>
                <td colspan=2><input type='checkbox' name='chkPm6358MAC1En' >&nbsp;&nbsp;Enable MAC1</td>
                <td colspan=2><input type='checkbox' name='chkPm6358EPHYEn' >&nbsp;&nbsp;Enable EPHY</td> 
              </tr>
              <tr>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6358MAC0   = '<%ejGet(pm6358MAC0En)%>';
                         if(pm6358MAC0 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6358MAC0En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6358MAC0En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                &nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6358MAC1   = '<%ejGet(pm6358MAC1En)%>';
                         if(pm6358MAC1 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6358MAC1En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6358MAC1En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                &nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6358EPHY   = '<%ejGet(pm6358EPHYEn)%>';
                         if(pm6358EPHY == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6358EPHYEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6358EPHYEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                &nbsp;&nbsp;&nbsp;&nbsp;</td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM5325E Ethernet</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td colspan=2><input type='checkbox' name='chkPm5325ePHY0En' >&nbsp;&nbsp;Enable PHY0&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm5325ePHY1En' >&nbsp;&nbsp;Enable PHY1&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm5325ePHY2En' >&nbsp;&nbsp;Enable PHY2&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm5325ePHY3En' >&nbsp;&nbsp;Enable PHY3&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm5325ePHY45En' >&nbsp;&nbsp;Enable PHY4 and 5&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm5325eLedsEn' >&nbsp;&nbsp;Enable Switch LEDs &nbsp;&nbsp;&nbsp;&nbsp;</td>
              </tr>
              <tr>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm5325ePHY0  = '<%ejGet(pm5325ePHY0En)%>';
                         if(pm5325ePHY0 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm5325ePHY0En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm5325ePHY0En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm5325ePHY1  = '<%ejGet(pm5325ePHY1En)%>';
                         if(pm5325ePHY1 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm5325ePHY1En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm5325ePHY1En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm5325ePHY2  = '<%ejGet(pm5325ePHY2En)%>';
                         if(pm5325ePHY2 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm5325ePHY2En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm5325ePHY2En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm5325ePHY3  = '<%ejGet(pm5325ePHY3En)%>';
                         if(pm5325ePHY3 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm5325ePHY3En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm5325ePHY3En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm5325ePHY45 = '<%ejGet(pm5325ePHY45En)%>';
                         if(pm5325ePHY45 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm5325ePHY45En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm5325ePHY45En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm5325eLeds  = '<%ejGet(pmSwitchLEDEn)%>';
                         if(pm5325eLeds == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm5325eLedsEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm5325eLedsEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>
            <hr align=left width=95%><br>
            <b>BCM6358 USB Hosts Ports</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td colspan=2><input type='checkbox' name='chkPmUSBHostsEn'>&nbsp;&nbsp;Enable USB Hosts&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPmUSBDevEn'  >&nbsp;&nbsp;Enable USB Device&nbsp;&nbsp;&nbsp;&nbsp;</td>
              </tr>
              <tr>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmUSBHosts   = '<%ejGet(pmUSBHostEn)%>';
                         if(pmUSBHosts == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmUSBHostsEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmUSBHostsEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmUSBDev     = '<%ejGet(pmUSBDevEn)%>';
                         if(pmUSBDev == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmUSBDevEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmUSBDevEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6358 ADSL Link</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmDSLEn'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>Status:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmDSL        = '<%ejGet(pmDSLEn)%>';
                         if(pmDSL == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmDSLEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmDSLEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <br>
            <center>
               <p align="center">
                  <input type='button' onClick='btnApply()' value='Apply'>
            </center>
         </form>
      </blockquote>


</body>
</html>


