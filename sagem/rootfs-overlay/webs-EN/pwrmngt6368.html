<html>
<head>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel=stylesheet href='stylemain.css' type='text/css'>
<link rel=stylesheet href='colors.css' type='text/css'>

<script language="javascript" src="util.js"></script>
<script language="javascript">
<!-- hide

var pmCPUSpeed   = '<%ejGet(pmCPUSpeed)%>';
var pmCPUr4Kwait = '<%ejGet(pmCPUr4kWaitEn)%>';
var pmDRAMAutoPD = '<%ejGet(pmDRAMAutoPDEn)%>';
var pmVCT        = '<%ejGet(pmVCTEn)%>';
var pmWifi       = '<%ejGet(pmWifiEn)%>';
var pm6368EthPHY0  = '<%ejGet(pm6368EthPHY0En)%>';
var pm6368EthPHY1  = '<%ejGet(pm6368EthPHY1En)%>';
var pm6368EthPHY2  = '<%ejGet(pm6368EthPHY2En)%>';
var pm6368EthPHY3  = '<%ejGet(pm6368EthPHY3En)%>';
var pm6368EthLeds  = '<%ejGet(pmSwitchLEDEn)%>';
var pmUSBHosts   = '<%ejGet(pmUSBHostEn)%>';
var pmUSBDev     = '<%ejGet(pmUSBDevEn)%>';
var pmDSL        = '<%ejGet(pmDSLEn)%>';

function frmLoad() {
   with ( document.forms[0] ) {
      var pwrmngt = '';
      pwrmngt = '<%ejGetOther(pwrmngt)%>';
   }
}

function btnApply() {
   var loc = 'pwrmngt.cmd?';

   with ( document.forms[0] ) {

      if ( radPmCPUSpeed[0].checked == true ) {
         loc += 'PmCPUSpeed=8';
      }
      else if ( radPmCPUSpeed[1].checked == true ) {
         loc += 'PmCPUSpeed=4';
      }
      else if ( radPmCPUSpeed[2].checked == true ) {
         loc += 'PmCPUSpeed=2';
      }
      else if ( radPmCPUSpeed[3].checked == true ) {
         loc += 'PmCPUSpeed=1';
      }
      else {
         loc += 'PmCPUSpeed=1';
      }

      if ( chkPmCPUr4Kwait.checked == true )
        loc += '&PmCPUr4kWaitEn=1';
      else
        loc += '&PmCPUr4kWaitEn=0';

      if ( chkPmDRAMAutoPD.checked == true )
        loc += '&PmDRAMAutoPDEn=1';
      else
        loc += '&PmDRAMAutoPDEn=0';


      if ( chkPmVCT.checked == true )
        loc += '&PmVCTEn=1';
      else
        loc += '&PmVCTEn=0';

      if ( chkPmWifiEn.checked == true )
        loc += '&PmWifiEn=1';
      else
        loc += '&PmWifiEn=0';


      if ( chkPm6368EthPHY0En.checked == true )
        loc += '&Pm6368EthPHY0En=1';
      else
        loc += '&Pm6368EthPHY0En=0';

      if ( chkPm6368EthPHY1En.checked == true )
        loc += '&Pm6368EthPHY1En=1';
      else
        loc += '&Pm6368EthPHY1En=0';

      if ( chkPm6368EthPHY2En.checked == true )
        loc += '&Pm6368EthPHY2En=1';
      else
        loc += '&Pm6368EthPHY2En=0';

      if ( chkPm6368EthPHY3En.checked == true )
        loc += '&Pm6368EthPHY3En=1';
      else
        loc += '&Pm6368EthPHY3En=0';

      if ( chkPm6368EthLedsEn.checked == true )
        loc += '&PmSwitchLEDEn=1';
      else
        loc += '&PmSwitchLEDEn=0';


      if ( chkPmUSBHostsEn.checked == true )
        loc += '&PmUSBHostEn=1';
      else
        loc += '&PmUSBHostEn=0';

      if ( chkPmUSBDevEn.checked == true )
        loc += '&PmUSBDevEn=1';
      else
        loc += '&PmUSBDevEn=0';

      if ( chkPmDSLEn.checked == true )
        loc += '&PmDSLEn=1';
      else
        loc += '&PmDSLEn=0';

   }

   var code = 'location="' + loc + '"';
   eval(code);
}

// done hiding -->
</script>
</head>

<body onLoad='frmLoad()'>

      <blockquote>
         <form>

            <b>BCM6368 Power Management</b><br>
            <br>
            This page allows control of Hardware modules to evaluate power consumption. Use the control buttons to select the desired option, click Apply and check the response. 
            <br>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6368 MIPS CPU Clock</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='radio' name='radPmCPUSpeed' value=8>&nbsp;&nbsp;1/8 of full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td><input type='radio' name='radPmCPUSpeed' value=4>&nbsp;&nbsp;1/4 of Full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td><input type='radio' name='radPmCPUSpeed' value=2>&nbsp;&nbsp;1/2 of full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td><input type='radio' name='radPmCPUSpeed' value=111>&nbsp;&nbsp;Full speed&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                   {   with ( document.forms[0] ) {
                         pmCPUSpeed   = '<%ejGet(pmCPUSpeed)%>';
                         if(pmCPUSpeed == "8") {
                           radPmCPUSpeed[0].checked = true;
                           document.writeln("<font color='red'> 1/8 of full speed</font>");
                         }
                         else if(pmCPUSpeed == "4") {
                           radPmCPUSpeed[1].checked = true;
                           document.writeln("<font color='red'> 1/4 of full speed</font>");
                         }
                         else if(pmCPUSpeed == "2") {
                           radPmCPUSpeed[2].checked = true;
                           document.writeln("<font color='red'> 1/2 of full speed</font>");
                         }
                         else if(pmCPUSpeed == "1") {
                           radPmCPUSpeed[3].checked = true;
                           document.writeln("<font color='green'> full speed</font>");
                         }
                         else {
                           document.writeln("<font color='red'>"+ pmCPUSpeed +" </font>");
                         }
                       }
                   } 
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6368 Linux TP uses r4K Wait instruction when Idle</b> (IMPORTANT : SAVES POWER WHEN ENABLED)
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmCPUr4Kwait'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmCPUr4Kwait = '<%ejGet(pmCPUr4kWaitEn)%>';
                         if(pmCPUr4Kwait == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmCPUr4Kwait.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmCPUr4Kwait.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>DRAM Auto Power Down Mode</b> (IMPORTANT : SAVES POWER WHEN ENABLED)
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmDRAMAutoPD'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmDRAMAutoPD = '<%ejGet(pmDRAMAutoPDEn)%>';
                         if(pmDRAMAutoPD == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmDRAMAutoPD.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmDRAMAutoPD.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6368 MIPS Voice TP and voice devices (slic/slac)</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmVCT'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmVCT        = '<%ejGet(pmVCTEn)%>';
                         if(pmVCT == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmVCT.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmVCT.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>802.11 Wireless</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmWifiEn' >&nbsp;&nbsp;Enable Wireless&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>:</td> 
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmWifi       = '<%ejGet(pmWifiEn)%>';
                         if(pmWifi == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmWifiEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmWifiEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6368 Ethernet</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td colspan=2><input type='checkbox' name='chkPm6368EthPHY0En' >&nbsp;&nbsp;Enable PHY0&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm6368EthPHY1En' >&nbsp;&nbsp;Enable PHY1&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm6368EthPHY2En' >&nbsp;&nbsp;Enable PHY2&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm6368EthPHY3En' >&nbsp;&nbsp;Enable PHY3&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPm6368EthLedsEn' >&nbsp;&nbsp;Enable Switch LEDs &nbsp;&nbsp;&nbsp;&nbsp;</td>
              </tr>
              <tr>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6368EthPHY0  = '<%ejGet(pm6368EthPHY0En)%>';
                         if(pm6368EthPHY0 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6368EthPHY0En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6368EthPHY0En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6368EthPHY1  = '<%ejGet(pm6368EthPHY1En)%>';
                         if(pm6368EthPHY1 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6368EthPHY1En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6368EthPHY1En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6368EthPHY2  = '<%ejGet(pm6368EthPHY2En)%>';
                         if(pm6368EthPHY2 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6368EthPHY2En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6368EthPHY2En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6368EthPHY3  = '<%ejGet(pm6368EthPHY3En)%>';
                         if(pm6368EthPHY3 == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6368EthPHY3En.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6368EthPHY3En.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pm6368EthLeds  = '<%ejGet(pmSwitchLEDEn)%>';
                         if(pm6368EthLeds == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPm6368EthLedsEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPm6368EthLedsEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>

            <hr align=left width=95%><br>
            <b>BCM6368 USB Hosts Ports</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td colspan=2><input type='checkbox' name='chkPmUSBHostsEn'>&nbsp;&nbsp;Enable USB Hosts&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td colspan=2><input type='checkbox' name='chkPmUSBDevEn'  >&nbsp;&nbsp;Enable USB Device&nbsp;&nbsp;&nbsp;&nbsp;</td>
              </tr>
              <tr>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmUSBHosts   = '<%ejGet(pmUSBHostEn)%>';
                         if(pmUSBHosts == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmUSBHostsEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmUSBHostsEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmUSBDev     = '<%ejGet(pmUSBDevEn)%>';
                         if(pmUSBDev == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmUSBDevEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmUSBDevEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>

              </tr>
            </table>
            <br>

            <hr align=left width=95%><br>
            <b>BCM6368 (A/V)DSL Link</b>
            <br>
            <table border=0 cellspacing=1 cellpadding=1 >
              <tr>
                <td><input type='checkbox' name='chkPmDSLEn'> &nbsp;&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td class='hd'>:</td>
                <td class='hd'>
                   <script language="javascript">
                   <!-- hide 
                     {
                       with ( document.forms[0] ) {
                         pmDSL        = '<%ejGet(pmDSLEn)%>';
                         if(pmDSL == 1) {
                           document.writeln("<font color='green'>Enabled</font>");
                           chkPmDSLEn.checked = true;
                         }
                         else {
                           document.writeln("<font color='red'>Disabled</font>");
                           chkPmDSLEn.checked = false;
                         }
                       }
                     }
                   // done hiding -->
                   </script>
                </td>
              </tr>
            </table>
            <br>

            <br>
            <center>
               <p align="center">
                  <input type='button' onClick='btnApply()' value='Apply'>
            </center>
         </form>
      </blockquote>


</body>
</html>


